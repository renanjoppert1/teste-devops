(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c065cb60","chunk-048affac"],{"014e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-drawer",{attrs:{title:"Editar Lead",visible:t.drawerShow,direction:t.direction,"before-close":t.handleClose,size:"50%"},on:{"update:visible":function(e){t.drawerShow=e}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],staticStyle:{padding:"0px 20px","box-sizing":"border-box"}},[a("ul",{attrs:{id:"leadDataUpdate"}},t._l(this.leadData.fields,(function(e){return a("li",{key:e.field_id},[a("span",{staticClass:"label"},[t._v(t._s(e.field_label))]),a("span",{staticClass:"field"},[t.textField(e.type_field)?a("el-input",{model:{value:t.leadData.form[e.field_table_name],callback:function(a){t.$set(t.leadData.form,e.field_table_name,a)},expression:"leadData.form[field.field_table_name]"}}):t._e(),t.switchField(e.type_field)?a("el-switch",{model:{value:t.leadData.form[e.field_table_name],callback:function(a){t.$set(t.leadData.form,e.field_table_name,a)},expression:"leadData.form[field.field_table_name]"}}):t._e(),t.dateField(e.type_field)?a("el-date-picker",{attrs:{type:"date",format:"dd/MM/yyyy"},model:{value:t.leadData.form[e.field_table_name],callback:function(a){t.$set(t.leadData.form,e.field_table_name,a)},expression:"leadData.form[field.field_table_name]"}}):t._e(),t.selectField(e.type_field)?a("el-select",{attrs:{width:"100%",clearable:"",placeholder:"Selecione"},model:{value:t.leadData.form[e.field_table_name],callback:function(a){t.$set(t.leadData.form,e.field_table_name,a)},expression:"leadData.form[field.field_table_name]"}},t._l(t.leadData.fieldsOptions[e.field_table_name],(function(t){return a("el-option",{key:t.dropdown_option_value,attrs:{label:t.dropdown_option_value,value:t.dropdown_option_value}})})),1):t._e()],1)])})),0),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveLead()}}},[t._v("Atualizar Dados")])],1)])],1)},r=[],i=(a("4160"),a("159b"),{name:"LeadUpdate",data:function(){return{loading:!1,direction:"rtl",leadData:{data:[],fields:[],form:{},fieldsOptions:{}}}},props:{drawerShow:{default:!1},leadID:{default:0}},methods:{textField:function(t){return"text"===t},switchField:function(t){return"switch"===t},dateField:function(t){return"date"===t},selectField:function(t){return"dropdown"===t},saveLead:function(){var t=this.leadData.fields,e=this.leadData.form,a=this.leadData.data,n=!1;t.forEach((function(t){if(e[t.field_table_name]!=a[t.field_table_name])return n=!0,!1})),0==n?(this.leadData.form={},this.$emit("done")):this.XHRSaveLead()},XHRSaveLead:function(){var t=this;this.loading=!0;var e=this.leadData.form;this.$http.put("/leads/"+this.leadID,e).then((function(e){t.loading=!1,t.$notify.success({title:"Sucesso"}),t.$emit("done"),t.$emit("reload")})).catch((function(e){t.loading=!1,t.$notify.error({title:"Erro na soliciatação"})}))},handleClose:function(t){var e=this;this.$confirm("Você tem certeza que não deseja atualizar este lead?").then((function(a){e.$emit("done"),t(a)})).catch((function(t){}))},getOldDataFromLead:function(){var t=this;this.$http.get("/leads/"+this.leadID).then((function(e){t.leadData.data=e.data,t.$http.get("/fields/leads").then((function(e){t.leadData.fields=e.data;var a=e.data;a.forEach((function(e){"dropdown"===e.type_field&&t.$http.get("/fields/dropdown-values/"+e.field_id).then((function(a){t.$set(t.leadData.fieldsOptions,e.field_table_name,a.data)})),t.$set(t.leadData.form,e.field_table_name,t.leadData.data[e.field_table_name])}))})).catch((function(e){t.$notify.error({title:"Erro nos Campos",message:e.response.data})}))})).catch((function(e){t.$notify.error({title:"Erro",message:e.response.data})}))}},watch:{drawerShow:function(t,e){1==t&&this.getOldDataFromLead()}}}),o=i,l=(a("7f11"),a("2877")),s=Object(l["a"])(o,n,r,!1,null,null,null);e["default"]=s.exports},"057f":function(t,e,a){var n=a("fc6a"),r=a("241c").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?l(t):r(n(t))}},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),i=a("17c2"),o=a("9112");for(var l in r){var s=n[l],c=s&&s.prototype;if(c&&c.forEach!==i)try{o(c,"forEach",i)}catch(d){c.forEach=i}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),i=a("ae40"),o=r("forEach"),l=i("forEach");t.exports=o&&l?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1837:function(t,e,a){"use strict";var n=a("e668"),r=a.n(n);r.a},4160:function(t,e,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"65f0":function(t,e,a){var n=a("861d"),r=a("e8b5"),i=a("b622"),o=i("species");t.exports=function(t,e){var a;return r(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[o],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},"746f":function(t,e,a){var n=a("428f"),r=a("5135"),i=a("e538"),o=a("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:i.f(t)})}},"7f11":function(t,e,a){"use strict";var n=a("e8a3"),r=a.n(n);r.a},a4d3:function(t,e,a){"use strict";var n=a("23e7"),r=a("da84"),i=a("d066"),o=a("c430"),l=a("83ab"),s=a("4930"),c=a("fdbf"),d=a("d039"),f=a("5135"),u=a("e8b5"),h=a("861d"),p=a("825a"),v=a("7b0b"),m=a("fc6a"),b=a("c04e"),y=a("5c6c"),g=a("7c73"),_=a("df75"),w=a("241c"),S=a("057f"),D=a("7418"),L=a("06cf"),E=a("9bf2"),C=a("d1e7"),x=a("9112"),O=a("6eeb"),$=a("5692"),k=a("f772"),T=a("d012"),A=a("90e3"),F=a("b622"),j=a("e538"),P=a("746f"),R=a("d44e"),M=a("69f3"),N=a("b727").forEach,V=k("hidden"),I="Symbol",q="prototype",z=F("toPrimitive"),G=M.set,U=M.getterFor(I),H=Object[q],J=r.Symbol,B=i("JSON","stringify"),X=L.f,Q=E.f,W=S.f,K=C.f,Y=$("symbols"),Z=$("op-symbols"),tt=$("string-to-symbol-registry"),et=$("symbol-to-string-registry"),at=$("wks"),nt=r.QObject,rt=!nt||!nt[q]||!nt[q].findChild,it=l&&d((function(){return 7!=g(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(t,e,a){var n=X(H,e);n&&delete H[e],Q(t,e,a),n&&t!==H&&Q(H,e,n)}:Q,ot=function(t,e){var a=Y[t]=g(J[q]);return G(a,{type:I,tag:t,description:e}),l||(a.description=e),a},lt=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof J},st=function(t,e,a){t===H&&st(Z,e,a),p(t);var n=b(e,!0);return p(a),f(Y,n)?(a.enumerable?(f(t,V)&&t[V][n]&&(t[V][n]=!1),a=g(a,{enumerable:y(0,!1)})):(f(t,V)||Q(t,V,y(1,{})),t[V][n]=!0),it(t,n,a)):Q(t,n,a)},ct=function(t,e){p(t);var a=m(e),n=_(a).concat(pt(a));return N(n,(function(e){l&&!ft.call(a,e)||st(t,e,a[e])})),t},dt=function(t,e){return void 0===e?g(t):ct(g(t),e)},ft=function(t){var e=b(t,!0),a=K.call(this,e);return!(this===H&&f(Y,e)&&!f(Z,e))&&(!(a||!f(this,e)||!f(Y,e)||f(this,V)&&this[V][e])||a)},ut=function(t,e){var a=m(t),n=b(e,!0);if(a!==H||!f(Y,n)||f(Z,n)){var r=X(a,n);return!r||!f(Y,n)||f(a,V)&&a[V][n]||(r.enumerable=!0),r}},ht=function(t){var e=W(m(t)),a=[];return N(e,(function(t){f(Y,t)||f(T,t)||a.push(t)})),a},pt=function(t){var e=t===H,a=W(e?Z:m(t)),n=[];return N(a,(function(t){!f(Y,t)||e&&!f(H,t)||n.push(Y[t])})),n};if(s||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),a=function(t){this===H&&a.call(Z,t),f(this,V)&&f(this[V],e)&&(this[V][e]=!1),it(this,e,y(1,t))};return l&&rt&&it(H,e,{configurable:!0,set:a}),ot(e,t)},O(J[q],"toString",(function(){return U(this).tag})),O(J,"withoutSetter",(function(t){return ot(A(t),t)})),C.f=ft,E.f=st,L.f=ut,w.f=S.f=ht,D.f=pt,j.f=function(t){return ot(F(t),t)},l&&(Q(J[q],"description",{configurable:!0,get:function(){return U(this).description}}),o||O(H,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:J}),N(_(at),(function(t){P(t)})),n({target:I,stat:!0,forced:!s},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var a=J(e);return tt[e]=a,et[a]=e,a},keyFor:function(t){if(!lt(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!l},{create:dt,defineProperty:st,defineProperties:ct,getOwnPropertyDescriptor:ut}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ht,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:d((function(){D.f(1)}))},{getOwnPropertySymbols:function(t){return D.f(v(t))}}),B){var vt=!s||d((function(){var t=J();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}));n({target:"JSON",stat:!0,forced:vt},{stringify:function(t,e,a){var n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e,(h(e)||void 0!==t)&&!lt(t))return u(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!lt(e))return e}),r[1]=e,B.apply(null,r)}})}J[q][z]||x(J[q],z,J[q].valueOf),R(J,I),T[V]=!0},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var n=a("83ab"),r=a("d039"),i=a("5135"),o=Object.defineProperty,l={},s=function(t){throw t};t.exports=function(t,e){if(i(l,t))return l[t];e||(e={});var a=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,d=i(e,0)?e[0]:s,f=i(e,1)?e[1]:void 0;return l[t]=!!a&&!r((function(){if(c&&!n)return!0;var t={length:-1};c?o(t,1,{enumerable:!0,get:s}):t[1]=1,a.call(t,d,f)}))}},b727:function(t,e,a){var n=a("0366"),r=a("44ad"),i=a("7b0b"),o=a("50c4"),l=a("65f0"),s=[].push,c=function(t){var e=1==t,a=2==t,c=3==t,d=4==t,f=6==t,u=5==t||f;return function(h,p,v,m){for(var b,y,g=i(h),_=r(g),w=n(p,v,3),S=o(_.length),D=0,L=m||l,E=e?L(h,S):a?L(h,0):void 0;S>D;D++)if((u||D in _)&&(b=_[D],y=w(b,D,g),t))if(e)E[D]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return D;case 2:s.call(E,b)}else if(d)return!1;return f?-1:c||d?d:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},dfca:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lead-view"},[a("el-col",{staticClass:"lead-data",attrs:{span:6}},[a("div",{staticClass:"header-info"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"text-center",attrs:{span:24}},[a("span",{staticClass:"img-avatar"},[a("v-gravatar",{attrs:{email:this.leadData.data.email,alt:"Renan Joppert",size:60,"default-img":"mm"}})],1),a("h1",{staticClass:"lead-title"},[t._v(t._s(this.leadData.data.first_name))]),a("ul",{attrs:{id:"lead-actions-list"}},[a("li",{staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleUpdateLead()}}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Editar lead",placement:"top"}},[a("i",{staticClass:"far fa-edit"})])],1)])])],1)],1),a("el-divider"),a("div",{staticClass:"data"},[a("ul",{attrs:{id:"leadData"}},[a("el-scrollbar",{attrs:{"wrap-class":"listFields",native:!1}},t._l(this.leadData.fields,(function(e){return a("li",{key:e.field_id},[a("p",{staticClass:"label"},[t._v(t._s(e.field_label))]),a("p",{staticClass:"value"},[t._v(t._s(t.leadData.data[e.field_table_name]))]),a("el-divider")],1)})),0)],1)])],1),a("el-col",{attrs:{span:17}},[a("div",{staticClass:"text-center",attrs:{id:"leadBtnGroup"}},[t._l(this.buttons,(function(e){return a("el-button",{key:e.cb_id,attrs:{type:"primary"}},[t._v(t._s(e.label))])})),a("el-popconfirm",{attrs:{title:"Você tem certeza que deseja excluir o lead?",confirmButtonText:"Excluir",cancelButtonText:"Cancelar"},on:{onConfirm:function(e){return t.deleteLead()}}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("Excluir Lead")])],1)],2)]),a("el-drawer",{attrs:{title:this.eventDrawer.title,visible:t.eventDrawer.show,size:"50%"},on:{"update:visible":function(e){return t.$set(t.eventDrawer,"show",e)}}},[a("div",[a("p",[t._v(t._s(this.eventDrawer.subtitle))]),a("p",[t._v(t._s(this.eventDrawer.date))]),a("p",[t._v(t._s(this.eventDrawer.description))])])]),a("UpdateLead",{attrs:{drawerShow:this.drawerShow,leadID:this.leadRequest},on:{done:function(e){return t.toggleUpdateLead()},reload:function(e){return t.getLeadData()}}})],1)},r=[],i=(a("a4d3"),a("e01a"),a("014e")),o={name:"ViewLead",components:{UpdateLead:i["default"]},data:function(){return{drawerShow:!1,eventDrawer:{show:!1,title:"",subtitle:"",source:"",date:"",content:""},events:[{event_id:1,date:"2018/04/12 10:15",title:"E-mail enviado",subtitle:"Envio de contrato GuiaSales",description:"Olá mundo lindo",source:"user",source_name:"Renan Joppert",type:"email"}],num:30,leadRequest:-1,leadData:{data:[],fields:[]},categoryActivity:{list:[{value:"events",label:"Eventos"},{value:"emails",label:"E-mails"},{value:"calls",label:"Chamadas"},{value:"tasks",label:"Tarefas"}],current:"events"},colorLeadScore:"#A3A1FB",buttons:[]}},mounted:function(){this.getLeadData()},methods:{toggleUpdateLead:function(){this.drawerShow=!this.drawerShow},getLeadData:function(){var t=this;this.leadRequest=this.$route.params.id,this.$http.get("/buttons/view/leads").then((function(e){t.buttons=e.data})),this.$http.get("/leads/"+this.leadRequest).then((function(e){200!=e.status?t.$notify.error({title:"Erro",message:e.data}):(t.leadData.data=e.data,t.$http.get("/fields/leads").then((function(a){200==e.status&&(t.leadData.fields=a.data)})))}))},deleteLead:function(){var t=this;this.$http.delete("/leads/"+this.leadRequest).then((function(e){"200"==e.status&&t.$router.push({name:"Leads_List"})}))},EventTypeIcon:function(t){if("email"===t)return"el-icon-message"},eventSourceIcon:function(t){if("user"===t)return"fas fa-user"},openEventsDrawer:function(t){this.eventDrawer.title=t.title,this.eventDrawer.source=t.source,this.eventDrawer.date=t.date,this.eventDrawer.content=t.description,this.eventDrawer.show=!0},labelLeadScore:function(){return"0 Lead Score"},currentCategoryClass:function(t){return t===this.categoryActivity.current?"current":void 0},changeCategoryEvents:function(t){this.categoryActivity.current=t},valueOfField:function(t){return t}}},l=o,s=(a("1837"),a("2877")),c=Object(s["a"])(l,n,r,!1,null,null,null);e["default"]=c.exports},e01a:function(t,e,a){"use strict";var n=a("23e7"),r=a("83ab"),i=a("da84"),o=a("5135"),l=a("861d"),s=a("9bf2").f,c=a("e893"),d=i.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var f={},u=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof u?new d(t):void 0===t?d():d(t);return""===t&&(f[e]=!0),e};c(u,d);var h=u.prototype=d.prototype;h.constructor=u;var p=h.toString,v="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;s(h,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=p.call(t);if(o(f,t))return"";var a=v?e.slice(7,-1):e.replace(m,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:u})}},e538:function(t,e,a){var n=a("b622");e.f=n},e668:function(t,e,a){},e8a3:function(t,e,a){},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-c065cb60.d5d71316.js.map