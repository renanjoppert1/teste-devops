(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98e0aa14"],{1276:function(e,t,i){"use strict";var o=i("d784"),n=i("44e7"),a=i("825a"),r=i("1d80"),l=i("4840"),s=i("8aa5"),c=i("50c4"),u=i("14c3"),d=i("9263"),p=i("d039"),f=[].push,m=Math.min,h=4294967295,v=!p((function(){return!RegExp(h,"y")}));o("split",2,(function(e,t,i){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var o=String(r(this)),a=void 0===i?h:i>>>0;if(0===a)return[];if(void 0===e)return[o];if(!n(e))return t.call(o,e,a);var l,s,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,p+"g");while(l=d.call(v,o)){if(s=v.lastIndex,s>m&&(u.push(o.slice(m,l.index)),l.length>1&&l.index<o.length&&f.apply(u,l.slice(1)),c=l[0].length,m=s,u.length>=a))break;v.lastIndex===l.index&&v.lastIndex++}return m===o.length?!c&&v.test("")||u.push(""):u.push(o.slice(m)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var n=r(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n,i):o.call(String(n),t,i)},function(e,n){var r=i(o,e,this,n,o!==t);if(r.done)return r.value;var d=a(e),p=String(this),f=l(d,RegExp),b=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),_=new f(v?d:"^(?:"+d.source+")",g),w=void 0===n?h:n>>>0;if(0===w)return[];if(0===p.length)return null===u(_,p)?[p]:[];var x=0,y=0,C=[];while(y<p.length){_.lastIndex=v?y:0;var k,S=u(_,v?p:p.slice(y));if(null===S||(k=m(c(_.lastIndex+(v?0:y)),p.length))===x)y=s(p,y,b);else{if(C.push(p.slice(x,y)),C.length===w)return C;for(var O=1;O<=S.length-1;O++)if(C.push(S[O]),C.length===w)return C;y=x=k}}return C.push(p.slice(x)),C}]}),!v)},"159b":function(e,t,i){var o=i("da84"),n=i("fdbc"),a=i("17c2"),r=i("9112");for(var l in n){var s=o[l],c=s&&s.prototype;if(c&&c.forEach!==a)try{r(c,"forEach",a)}catch(u){c.forEach=a}}},"17c2":function(e,t,i){"use strict";var o=i("b727").forEach,n=i("a640"),a=i("ae40"),r=n("forEach"),l=a("forEach");e.exports=r&&l?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,i){var o=i("d039"),n=i("b622"),a=i("2d00"),r=n("species");e.exports=function(e){return a>=51||!o((function(){var t=[],i=t.constructor={};return i[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4160:function(e,t,i){"use strict";var o=i("23e7"),n=i("17c2");o({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"44e7":function(e,t,i){var o=i("861d"),n=i("c6b6"),a=i("b622"),r=a("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}},"47a8":function(e,t,i){"use strict";var o=i("51f8"),n=i.n(o);n.a},"51f8":function(e,t,i){},"65f0":function(e,t,i){var o=i("861d"),n=i("e8b5"),a=i("b622"),r=a("species");e.exports=function(e,t){var i;return n(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?o(i)&&(i=i[r],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},8418:function(e,t,i){"use strict";var o=i("c04e"),n=i("9bf2"),a=i("5c6c");e.exports=function(e,t,i){var r=o(t);r in e?n.f(e,r,a(0,i)):e[r]=i}},"912e":function(e,t,i){},a434:function(e,t,i){"use strict";var o=i("23e7"),n=i("23cb"),a=i("a691"),r=i("50c4"),l=i("7b0b"),s=i("65f0"),c=i("8418"),u=i("1dde"),d=i("ae40"),p=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!p||!f},{splice:function(e,t){var i,o,u,d,p,f,g=l(this),_=r(g.length),w=n(e,_),x=arguments.length;if(0===x?i=o=0:1===x?(i=0,o=_-w):(i=x-2,o=h(m(a(t),0),_-w)),_+i-o>v)throw TypeError(b);for(u=s(g,o),d=0;d<o;d++)p=w+d,p in g&&c(u,d,g[p]);if(u.length=o,i<o){for(d=w;d<_-o;d++)p=d+o,f=d+i,p in g?g[f]=g[p]:delete g[f];for(d=_;d>_-o+i;d--)delete g[d-1]}else if(i>o)for(d=_-o;d>w;d--)p=d+o-1,f=d+i-1,p in g?g[f]=g[p]:delete g[f];for(d=0;d<i;d++)g[d+w]=arguments[d+2];return g.length=_-o+i,u}})},a640:function(e,t,i){"use strict";var o=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&o((function(){i.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,i){var o=i("83ab"),n=i("d039"),a=i("5135"),r=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(a(l,e))return l[e];t||(t={});var i=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:s,d=a(t,1)?t[1]:void 0;return l[e]=!!i&&!n((function(){if(c&&!o)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:s}):e[1]=1,i.call(e,u,d)}))}},b727:function(e,t,i){var o=i("0366"),n=i("44ad"),a=i("7b0b"),r=i("50c4"),l=i("65f0"),s=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d;return function(f,m,h,v){for(var b,g,_=a(f),w=n(_),x=o(m,h,3),y=r(w.length),C=0,k=v||l,S=t?k(f,y):i?k(f,0):void 0;y>C;C++)if((p||C in w)&&(b=w[C],g=x(b,C,_),e))if(t)S[C]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return C;case 2:s.call(S,b)}else if(u)return!1;return d?-1:c||u?u:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c975:function(e,t,i){"use strict";var o=i("23e7"),n=i("4d64").indexOf,a=i("a640"),r=i("ae40"),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(e){return s?l.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},d4e2:function(e,t,i){"use strict";var o=i("912e"),n=i.n(o);n.a},df46:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",[i("el-col",{attrs:{xs:24,sm:24,md:16,lg:16,xl:16}},[i("h1",{staticClass:"pageTitle"},[e._v(e._s(this.pageTitle))])]),i("el-col",{staticClass:"text-right",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[i("el-select",{attrs:{clearable:"",placeholder:"Selecione o Objeto"},on:{change:function(t){return e.changeObject()}},model:{value:e.objectValue,callback:function(t){e.objectValue=t},expression:"objectValue"}},e._l(e.objects,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),i("el-button",{attrs:{plain:""},on:{click:function(t){return e.newField()}}},[e._v("Criar Campo")])],1),i("el-col",{attrs:{id:"listData",xs:24,sm:24,md:24,lg:24,xl:24}},[i("el-row",[i("el-col",{attrs:{span:24}},[e.noData()?i("div",{staticClass:"text-center",attrs:{id:"noContent"}},[i("i",{staticClass:"fas fa-ghost"}),i("h2",{staticClass:"title"},[e._v("Selecione um objeto para carregar os campos")])]):e._e(),e.noData()?e._e():i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content"},e._l(e.fields,(function(t){return i("el-card",{key:t.field_id,staticClass:"box-card field-card"},[i("span",[e._v(e._s(t.field_label))]),i("el-button-group",{staticStyle:{float:"right"}},[i("el-button",{attrs:{size:"mini",plain:"",icon:"el-icon-edit"},on:{click:function(i){return e.editField(t.field_id)}}}),i("el-button",{attrs:{size:"mini",plain:"",icon:"el-icon-delete"},on:{click:function(i){return e.deleteField(t.field_id)}}})],1)],1)})),1)])])],1),i("NewField",{attrs:{object:this.objectValue,visible:e.drawer.newVisible},on:{done:function(t){return e.changeObject()}}}),i("EditField",{attrs:{fieldID:this.updateFieldID,visible:e.drawer.editVisible}})],1)],1)],1)},n=[],a=(i("4160"),i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:"Novo Campo",visible:e.visible,direction:"rtl",size:"50%","before-close":e.confirmToClose},on:{"update:visible":function(t){e.visible=t}}},[i("div",{attrs:{id:"NewField"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",[i("span",[e._v("Objeto Selecionado:")]),e._v(" "+e._s(e.object)+" ")]),i("p",[i("span",[e._v("Nome do Campo")]),i("el-input",{attrs:{placeholder:"Nome do Campo"},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),i("p",[i("span",[e._v("Nome da API")]),i("el-input",{attrs:{placeholder:"Ex: first_name"},model:{value:e.form.label_api,callback:function(t){e.$set(e.form,"label_api",t)},expression:"form.label_api"}},[i("template",{slot:"prepend"},[e._v("cf_")])],2)],1),i("p",[i("span",[e._v("Obrigatório")]),i("br"),i("el-switch",{model:{value:e.form.is_required,callback:function(t){e.$set(e.form,"is_required",t)},expression:"form.is_required"}})],1),i("p",[i("span",[e._v("Oculto")]),i("br"),i("el-switch",{model:{value:e.form.is_hidden,callback:function(t){e.$set(e.form,"is_hidden",t)},expression:"form.is_hidden"}})],1),i("p",[i("span",[e._v("Tipo do Campo")]),i("br"),i("el-select",{attrs:{placeholder:"Tipo do Campo"},model:{value:e.form.type_value,callback:function(t){e.$set(e.form,"type_value",t)},expression:"form.type_value"}},e._l(e.form.type_options,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.optionsDropdownField()?i("p",[e._l(e.dropdownValues,(function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return e.handleClose(t)}}},[e._v(e._s(t))])})),e.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ Nova Opção")])],2):e._e(),i("p",[e.optionsDropdownField()?i("small",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleBulkImportOptions()}}},[e._v("*Se quiser importar as opções em massa, basta clicar aqui")]):e._e()]),1==this.form.bulkOptionsValuesImportShow?i("div",{staticStyle:{"padding-bottom":"20px"}},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"Opção 1,Opção 2"},model:{value:e.form.bulkImportOptions,callback:function(t){e.$set(e.form,"bulkImportOptions",t)},expression:"form.bulkImportOptions"}}),i("p",[i("small",[e._v("Digite as opções separando-as por vírgula.")])]),i("p",[i("el-button",{attrs:{plain:"",size:"small"},on:{click:function(t){return e.bulkImportOptionsAction()}}},[e._v("Importar Valores")])],1)],1):e._e(),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.requestNewField()}}},[e._v("Criar Campo")])],1)])])}),r=[],l=(i("c975"),i("a434"),i("ac1f"),i("1276"),{name:"SettingsCustomFieldsNewField",props:["object","visible"],data:function(){return{title:"Novo Campo",loading:!1,form:{bulkImportOptions:"",bulkOptionsValuesImportShow:!1,label_api:"",label:"",is_required:!1,is_hidden:!1,type_options:[{value:"text",label:"Texto"},{value:"switch",label:"Booleano"},{value:"date",label:"Data"},{value:"dropdown",label:"Dropdown"}],type_value:""},dropdownValues:[],inputVisible:!1,inputValue:""}},methods:{bulkImportOptionsAction:function(){var e=this;if(""==this.form.bulkImportOptions)return this.$notify.error("Você precisa ao menos adicionar 1 opção"),!1;var t=this.form.bulkImportOptions.split(",");t.forEach((function(t){e.dropdownValues.push(t)})),this.form.bulkImportOptions=""},confirmToClose:function(e){var t=this;this.$confirm("Você tem certeza que deseja sair?").then((function(i){t.clearFields(),t.$emit("done"),e()})).catch((function(e){}))},toggleBulkImportOptions:function(){this.form.bulkOptionsValuesImportShow=!this.form.bulkOptionsValuesImportShow},handleClose:function(e){this.dropdownValues.splice(this.dropdownValues.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.dropdownValues.push(e),this.inputVisible=!1,this.inputValue=""},optionsDropdownField:function(){return"dropdown"===this.form.type_value},clearFields:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===e&&(this.form.label="",this.form.label_api="",this.form.is_required=!1,this.form.is_hidden=!1,this.form.type_value="",this.form.dropdown_values=[]),this.loading=!1},requestNewField:function(){var e=this;this.loading=!0;var t={label:this.form.label,label_api:"cf_"+this.form.label_api,is_required:this.form.is_required,is_hidden:this.form.is_hidden,type:this.form.type_value,dropdown_values:this.dropdownValues,object:this.object};if(""==this.form.label||""==this.form.label_api||""==this.form.type_value)return this.loading=!1,this.$notify.error({title:"Erro",message:"Todos os campos devem ser preenchidos"}),!1;this.$http.post("/fields",t).then((function(t){201==t.status?(e.clearFields(),e.$emit("done"),e.$notify({title:"Sucesso",message:t.data.msg,type:"success"})):e.$notify.error({title:"Erro",message:"Houve um erro"})})).catch((function(t){e.clearFields(!1),e.$notify.error({title:"Erro",message:t.response.data})}))}}}),s=l,c=(i("d4e2"),i("2877")),u=Object(c["a"])(s,a,r,!1,null,null,null),d=u.exports,p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:"Edição do Campo",visible:e.visible,direction:"rtl","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("p",[i("span",[e._v("Nome do Campo")]),i("el-input",{attrs:{placeholder:"Nome do Campo"},model:{value:e.form.label,callback:function(t){e.$set(e.form,"label",t)},expression:"form.label"}})],1),i("p",[i("span",[e._v("Nome da API")]),i("el-input",{attrs:{placeholder:"Ex: first_name"},model:{value:e.form.label_api,callback:function(t){e.$set(e.form,"label_api",t)},expression:"form.label_api"}},[i("template",{slot:"prepend"},[e._v("cf_")])],2)],1),i("p",[i("span",[e._v("Obrigatório")]),i("br"),i("el-switch",{model:{value:e.form.is_required,callback:function(t){e.$set(e.form,"is_required",t)},expression:"form.is_required"}})],1),i("p",[i("span",[e._v("Oculto")]),i("br"),i("el-switch",{model:{value:e.form.is_hidden,callback:function(t){e.$set(e.form,"is_hidden",t)},expression:"form.is_hidden"}})],1),i("p",[i("span",[e._v("Tipo do Campo")]),i("br"),i("el-select",{attrs:{placeholder:"Tipo do Campo"},model:{value:e.form.type_value,callback:function(t){e.$set(e.form,"type_value",t)},expression:"form.type_value"}})],1)])])},f=[],m={name:"UpdateField",data:function(){return{drawerVisible:!1,loading:!1,form:{}}},props:["fieldID","visible"],methods:{handleClose:function(e){var t=this;this.$confirm("Você tem certeza que deseja sair?").then((function(i){t.$emit("done"),e()})).catch((function(e){}))},clearFields:function(){alert("Limpou")}},watch:{fieldID:function(e){console.log(e)},visible:function(e){alert(e)}}},h=m,v=Object(c["a"])(h,p,f,!1,null,null,null),b=v.exports,g={name:"SettingsCustomFields",components:{NewField:d,EditField:b},data:function(){return{drawer:{newVisible:!1,editVisible:!1},updateFieldID:"",newFieldVisible:!1,fields:[],loading:!1,pageTitle:"Campos Personalizados",objects:[{value:"leads",label:"Leads"},{value:"accounts",label:"Contas"},{value:"contacts",label:"Contatos"},{value:"deals",label:"Oportunidades"}],objectValue:""}},head:{title:{inner:"Configurações | Campos Personalizados",complement:"GuiaSales"}},methods:{getModulesForSelectObject:function(){var e=this;this.$http.get("/modules").then((function(t){if(200==t.status){var i=[],o=t.data;o.forEach((function(e){var t={label:e.module_label,value:e.module_table_name};i.push(t)})),e.objects=i}}))},newField:function(){if(""==this.objectValue)return this.$notify.error({title:"Erro",message:"Escolha um objeto para criar o campo"}),!1;this.drawer.newVisible=!0},editField:function(e){this.updateFieldID=e,this.drawer.editVisible=!0},deleteField:function(e){var t=this;this.$confirm("Você apagará o campo e não poderá voltar. Deseja continuar?","Atenção",{confirmButtonText:"Deletar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){t.$http.delete("/field/"+e).then((function(e){"200"==e.status?(t.$message({type:"success",message:"Campo deletado!"}),t.changeObject()):t.$notify.error({title:"Erro",message:"Mensagem:"+e.data})})).catch((function(e){t.$notify.error({title:"Erro",message:e.response.data.msg})}))}))},changeObject:function(){var e=this;this.drawer.newVisible=!1,""!=this.objectValue&&this.$http.get("/fields/"+this.objectValue).then((function(t){e.loading=!1,"200"==t.status?e.fields=t.data:e.$notify.error({title:"Erro",message:"Houve um erro na solicitação"})}))},noData:function(){return""==this.objectValue}},mounted:function(){this.getModulesForSelectObject()}},_=g,w=(i("47a8"),Object(c["a"])(_,o,n,!1,null,null,null));t["default"]=w.exports},e8b5:function(e,t,i){var o=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-98e0aa14.c28ebedd.js.map