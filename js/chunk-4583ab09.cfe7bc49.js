(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4583ab09"],{"159b":function(e,t,a){var r=a("da84"),o=a("fdbc"),i=a("17c2"),n=a("9112");for(var l in o){var s=r[l],u=s&&s.prototype;if(u&&u.forEach!==i)try{n(u,"forEach",i)}catch(c){u.forEach=i}}},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,o=a("a640"),i=a("ae40"),n=o("forEach"),l=i("forEach");e.exports=n&&l?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var r=a("23e7"),o=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"65f0":function(e,t,a){var r=a("861d"),o=a("e8b5"),i=a("b622"),n=i("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?r(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"6c4d":function(e,t,a){},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},a7e4:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"cb"}},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:20,lg:20,xl:20}},[a("h1",{staticClass:"pageTitle"},[e._v(e._s(this.pageTitle))])]),a("el-col",{staticClass:"text-right",attrs:{xs:24,sm:24,md:4,lg:4,xl:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.showDrawerNewBtn()}}},[e._v("Novo Botão")])],1),a("el-col",{attrs:{id:"listData",xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"label",label:"Nome do Botão"}}),a("el-table-column",{attrs:{prop:"action",label:"Workflow"}}),a("el-table-column",{attrs:{prop:"view",label:"Objeto"}}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.openEdit(t.row.cb_id)}}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.deleteButton(t.row.cb_id)}}})]}}])})],1)],1)],1)],1),a("el-drawer",{attrs:{title:"Novo Campo",visible:e.drawer.new.visible,direction:"rtl"},on:{"update:visible":function(t){return e.$set(e.drawer.new,"visible",t)}}},[a("div",{staticClass:"drawer-content"},[a("el-form",{ref:"form",attrs:{model:e.drawer.new.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Label"}},[a("el-input",{model:{value:e.drawer.new.form.label,callback:function(t){e.$set(e.drawer.new.form,"label",t)},expression:"drawer.new.form.label"}})],1),a("el-form-item",{attrs:{label:"Workflow"}},[a("el-input",{model:{value:e.drawer.new.form.action,callback:function(t){e.$set(e.drawer.new.form,"action",t)},expression:"drawer.new.form.action"}})],1),a("el-form-item",{attrs:{label:"Layout"}},[a("el-select",{model:{value:e.drawer.new.form.view,callback:function(t){e.$set(e.drawer.new.form,"view",t)},expression:"drawer.new.form.view"}},e._l(e.drawer.new.form.viewOptions,(function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.newButton()}}},[e._v("Novo Botão")])],1)],1)]),a("el-drawer",{attrs:{title:"Editar Campo",visible:e.drawer.update.visible,direction:"rtl"},on:{"update:visible":function(t){return e.$set(e.drawer.update,"visible",t)}}},[a("div",{staticClass:"drawer-content"},[a("el-form",{ref:"form",attrs:{model:e.drawer.update.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Label"}},[a("el-input",{model:{value:e.drawer.update.form.label,callback:function(t){e.$set(e.drawer.update.form,"label",t)},expression:"drawer.update.form.label"}})],1),a("el-form-item",{attrs:{label:"Workflow"}},[a("el-input",{model:{value:e.drawer.update.form.action,callback:function(t){e.$set(e.drawer.update.form,"action",t)},expression:"drawer.update.form.action"}})],1),a("el-form-item",{attrs:{label:"Layout"}},[a("el-select",{model:{value:e.drawer.update.form.view,callback:function(t){e.$set(e.drawer.update.form,"view",t)},expression:"drawer.update.form.view"}},e._l(e.drawer.update.form.viewOptions,(function(e){return a("el-option",{key:e,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveButton(e.drawer.update.form.id)}}},[e._v("Salvar")])],1)],1)])],1)},o=[],i=(a("4160"),a("159b"),{name:"SettingsCustomButtons",data:function(){return{drawer:{new:{visible:!1,form:{label:"",action:"",view:"",viewOptions:[]}},update:{visible:!1,form:{label:"",action:"",view:"",id:"",viewOptions:[]},oldData:{label:"",action:"",view:""}}},pageTitle:"Botôes Personalizados",tableData:[]}},head:{title:{inner:"Configurações | Botões Personalizados",complement:"GuiaSales"}},methods:{getModulesForSelectObject:function(){var e=this;this.$http.get("/modules").then((function(t){if(200==t.status){var a=[],r=t.data;r.forEach((function(e){var t={label:e.module_label,value:e.module_table_name};a.push(t)})),e.drawer.new.form.viewOptions=a,e.drawer.update.form.viewOptions=a}}))},openEdit:function(e){this.drawer.update.visible=!0,this.getFieldData(e)},getFieldData:function(e){var t=this;this.$http.get("/buttons/"+e).then((function(e){t.drawer.update.form.label=e.data[0].label,t.drawer.update.form.action=e.data[0].action_id,t.drawer.update.form.view=e.data[0].view,t.drawer.update.form.id=e.data[0].cb_id,t.drawer.update.oldData.label=e.data[0].label,t.drawer.update.oldData.action=e.data[0].action_id,t.drawer.update.oldData.view=e.data[0].view}))},saveButton:function(e){var t=this;if(this.drawer.update.oldData.label===this.drawer.update.form.label&&this.drawer.update.oldData.action===this.drawer.update.form.action&&this.drawer.update.oldData.view===this.drawer.update.form.view)return this.$message({message:"Campo editado com sucesso",type:"success"}),this.drawer.update.visible=!1,!1;var a={label:this.drawer.update.form.label,action:this.drawer.update.form.action,view:this.drawer.update.form.view,id:this.drawer.update.form.id};this.$http.put("/buttons/"+e,a).then((function(e){t.drawer.update.visible=!1,"200"==e.status&&(t.$message({message:"Campo editado com sucesso",type:"success"}),t.listButtons())})).catch((function(e){t.message.error("Houve um erro"+e.response.data)}))},deleteButton:function(e){var t=this;this.$http.delete("/buttons/"+e).then((function(e){"200"==e.status&&(t.$message({message:"Campo apagado com sucesso",type:"success"}),t.listButtons())})).catch((function(e){t.message.error("Houve um erro"+e.response.data)}))},showDrawerNewBtn:function(){this.drawer.new.visible=!0},clearAllFields:function(){this.drawer.new.form.label="",this.drawer.new.form.action="",this.drawer.new.form.view=""},validateFields:function(){return""!=this.drawer.new.form.label&&""!=this.drawer.new.form.action&&""!=this.drawer.new.form.view||(this.$message.error("Você deve preencher todos os campos"),!1)},newButton:function(){var e=this,t={label:this.drawer.new.form.label,action:this.drawer.new.form.action,view:this.drawer.new.form.view};this.$http.post("/buttons",t).then((function(t){"201"==t.status&&(e.clearAllFields(),e.drawer.new.visible=!1,e.$message({message:"Campo criado com sucesso",type:"success"}),e.listButtons())}))},listButtons:function(){var e=this;this.$http.get("/buttons").then((function(t){"200"==t.status&&(e.tableData=t.data)}))}},mounted:function(){this.listButtons(),this.getModulesForSelectObject()}}),n=i,l=(a("e1f7"),a("2877")),s=Object(l["a"])(n,r,o,!1,null,null,null);t["default"]=s.exports},ae40:function(e,t,a){var r=a("83ab"),o=a("d039"),i=a("5135"),n=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(i(l,e))return l[e];t||(t={});var a=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,c=i(t,0)?t[0]:s,d=i(t,1)?t[1]:void 0;return l[e]=!!a&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?n(e,1,{enumerable:!0,get:s}):e[1]=1,a.call(e,c,d)}))}},b727:function(e,t,a){var r=a("0366"),o=a("44ad"),i=a("7b0b"),n=a("50c4"),l=a("65f0"),s=[].push,u=function(e){var t=1==e,a=2==e,u=3==e,c=4==e,d=6==e,f=5==e||d;return function(w,m,p,b){for(var v,h,g=i(w),y=o(g),S=r(m,p,3),L=n(y.length),x=0,k=b||l,C=t?k(w,L):a?k(w,0):void 0;L>x;x++)if((f||x in y)&&(v=y[x],h=S(v,x,g),e))if(t)C[x]=h;else if(h)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:s.call(C,v)}else if(c)return!1;return d?-1:u||c?c:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e1f7:function(e,t,a){"use strict";var r=a("6c4d"),o=a.n(r);o.a},e8b5:function(e,t,a){var r=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-4583ab09.cfe7bc49.js.map