(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55971483"],{"04f8":function(e,t,a){"use strict";var i=a("d3fc"),o=a.n(i);o.a},"159b":function(e,t,a){var i=a("da84"),o=a("fdbc"),n=a("17c2"),l=a("9112");for(var d in o){var r=i[d],f=r&&r.prototype;if(f&&f.forEach!==n)try{l(f,"forEach",n)}catch(s){f.forEach=n}}},"17c2":function(e,t,a){"use strict";var i=a("b727").forEach,o=a("a640"),n=a("ae40"),l=o("forEach"),d=n("forEach");e.exports=l&&d?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var i=a("23e7"),o=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"65f0":function(e,t,a){var i=a("861d"),o=a("e8b5"),n=a("b622"),l=n("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?i(a)&&(a=a[l],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"9dec":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",{attrs:{title:"Edição da Oportunidade",visible:e.show,direction:"rtl","before-close":e.handleClose,size:"40%"},on:{"update:visible":function(t){e.show=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],staticStyle:{padding:"0px 20px","box-sizing":"border-box"}},[a("ul",{attrs:{id:"DataModuleUpdate"}},e._l(e.dataModule.fields,(function(t){return a("li",{key:t.field_id},[a("span",{staticClass:"label"},[e._v(e._s(t.field_label))]),a("span",{staticClass:"field"},[e.textField()?a("el-input",{model:{value:e.dataModule.form[t.field_table_name],callback:function(a){e.$set(e.dataModule.form,t.field_table_name,a)},expression:"dataModule.form[field.field_table_name]"}}):e._e(),e.textField(t.type_field)?a("el-input",{model:{value:e.dataModule.form[t.field_table_name],callback:function(a){e.$set(e.dataModule.form,t.field_table_name,a)},expression:"dataModule.form[field.field_table_name]"}}):e._e(),e.switchField(t.type_field)?a("el-switch",{model:{value:e.dataModule.form[t.field_table_name],callback:function(a){e.$set(e.dataModule.form,t.field_table_name,a)},expression:"dataModule.form[field.field_table_name]"}}):e._e(),e.dateField(t.type_field)?a("el-date-picker",{attrs:{type:"date",format:"dd/MM/yyyy"},model:{value:e.dataModule.form[t.field_table_name],callback:function(a){e.$set(e.dataModule.form,t.field_table_name,a)},expression:"dataModule.form[field.field_table_name]"}}):e._e(),e.selectField(t.type_field)?a("el-select",{attrs:{width:"100%",clearable:"",placeholder:"Selecione"},model:{value:e.dataModule.form[t.field_table_name],callback:function(a){e.$set(e.dataModule.form,t.field_table_name,a)},expression:"dataModule.form[field.field_table_name]"}},e._l(e.dataModule.fieldsOptions[t.field_table_name],(function(e){return a("el-option",{key:e.dropdown_option_value,attrs:{label:e.dropdown_option_value,value:e.dropdown_option_value}})})),1):e._e()],1)])})),0),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveData()}}},[e._v("Atualizar Dados")])],1)])],1)},o=[],n=(a("4160"),a("159b"),{name:"DealUpdate",props:{show:{default:!1}},data:function(){return{dataID:0,loading:!1,dataModule:{originalData:[],fields:[],form:{},fieldsOptions:{}}}},methods:{textField:function(e){return"text"===e},switchField:function(e){return"switch"===e},dateField:function(e){return"date"===e},selectField:function(e){return"dropdown"===e},saveData:function(){var e=this,t=this.dataModule.fields,a=!1;t.forEach((function(t){if(e.dataModule.form[t.field_table_name]!=e.dataModule.originalData[t.field_table_name])return a=!0,!1})),0==a?(this.dataModule.form={},this.$emit("done")):this.XHRSaveDataModule()},XHRSaveDataModule:function(){var e=this;this.loading=!0;var t=this.dataModule.form;this.$http.put("/module/deals/"+this.dataID,t).then((function(t){e.loading=!1,e.$notify.success({title:"Sucesso"}),e.$emit("done")})).catch((function(t){e.loading=!1,e.$notify.error({title:"Erro na soliciatação"})}))},handleClose:function(e){var t=this;this.$confirm("Deseja sair da tela de atualização?").then((function(a){t.$emit("done"),e()})).catch((function(e){}))},getOldDataFromDataModule:function(e){var t=this;this.$http.get("/module/deals/"+e).then((function(e){t.dataModule.originalData=e.data}))},getFieldsFromDataModule:function(){var e=this;this.$http.get("/fields/deals").then((function(t){e.dataModule.fields=t.data,t.data.forEach((function(t){e.$set(e.dataModule.form,t.field_table_name,e.dataModule.originalData[t.field_table_name])}))}))},mountFormUpdate:function(){var e=this;this.$http.get("/module/deals/"+this.dataID).then((function(t){e.dataModule.originalData=t.data,e.$http.get("/fields/deals").then((function(t){e.dataModule.fields=t.data,t.data.forEach((function(t){"dropdown"===t.type_field&&e.$http.get("/fields/dropdown-values/"+t.field_id).then((function(a){e.$set(e.dataModule.fieldsOptions,t.field_table_name,a.data)})),e.$set(e.dataModule.form,t.field_table_name,e.dataModule.originalData[t.field_table_name])}))}))}))}},watch:{show:function(e,t){this.dataID=this.$route.params.id,this.mountFormUpdate()}}}),l=n,d=(a("04f8"),a("2877")),r=Object(d["a"])(l,i,o,!1,null,null,null);t["default"]=r.exports},a640:function(e,t,a){"use strict";var i=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&i((function(){a.call(null,t||function(){throw 1},1)}))}},ae40:function(e,t,a){var i=a("83ab"),o=a("d039"),n=a("5135"),l=Object.defineProperty,d={},r=function(e){throw e};e.exports=function(e,t){if(n(d,e))return d[e];t||(t={});var a=[][e],f=!!n(t,"ACCESSORS")&&t.ACCESSORS,s=n(t,0)?t[0]:r,u=n(t,1)?t[1]:void 0;return d[e]=!!a&&!o((function(){if(f&&!i)return!0;var e={length:-1};f?l(e,1,{enumerable:!0,get:r}):e[1]=1,a.call(e,s,u)}))}},b727:function(e,t,a){var i=a("0366"),o=a("44ad"),n=a("7b0b"),l=a("50c4"),d=a("65f0"),r=[].push,f=function(e){var t=1==e,a=2==e,f=3==e,s=4==e,u=6==e,c=5==e||u;return function(h,m,p,_){for(var b,v,M=n(h),g=o(M),y=i(m,p,3),S=l(g.length),w=0,L=_||d,D=t?L(h,S):a?L(h,0):void 0;S>w;w++)if((c||w in g)&&(b=g[w],v=y(b,w,M),e))if(t)D[w]=v;else if(v)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:r.call(D,b)}else if(s)return!1;return u?-1:f||s?s:D}};e.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},d3fc:function(e,t,a){},e8b5:function(e,t,a){var i=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-55971483.318cba40.js.map