(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20962548"],{"0a5e":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("h1",{staticClass:"pageTitle"},[t._v(t._s(this.pageTitle))])]),a("el-col",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],attrs:{id:"listData",xs:24,sm:24,md:24,lg:24,xl:24}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-popconfirm",{attrs:{confirmButtonText:"Excluir",cancelButtonText:"Cancelar",title:"VocÃª tem certeza que deseja excluir as oportunidades selecionadas?"},on:{onConfirm:function(e){return t.deleteDataModule()}}},[a("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[t._v("Excluir")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange,"row-click":t.linkRowTable}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"cf_deal_name",label:"Nome da Oportunidade"}}),a("el-table-column",{attrs:{prop:"cf_deal_amount",label:"Valor da Oportunidade"}}),a("el-table-column",{attrs:{width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:t.linkToView(e.row.id)}},[a("el-button",{attrs:{size:"small"}},[a("i",{staticClass:"el-icon-right"})])],1)]}}])})],1)],1)],1),a("el-row",{attrs:{id:"paginationList"}},[this.pagination()?a("el-col",{attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3,"page-size":this.pageSize,"current-page":this.currentPage}})],1):t._e()],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}})],1)],1)},n=[],i={name:"Deals",data:function(){return{pageSize:0,pages:0,currentPage:0,countTotalContatos:0,pageTitle:"Oportunidades",loading:!0,tableData:[],multipleSelection:[]}},head:{title:{inner:"Oportunidades",complement:"GuiaSales"}},methods:{linkToView:function(t){return"/dashboard/deals/"+t},handleSelectionChange:function(t){this.multipleSelection=t},linkRowTable:function(t){this.$router.push({name:"Deal_View",params:{id:t.id}})},pagination:function(){return this.pages>1},loadData:function(){var t=this;this.$http.get("/module/deals/view?fields=cf_deal_name").then((function(e){t.loading=!1,t.tableData=e.data.data,t.pages=e.data.meta.total_pages,t.currentPage=e.data.meta.page,t.pageSize=e.data.meta.per_page,t.countTotalContatos=e.data.meta.total_leads})).catch((function(e){t.loading=!1}))},deleteDataModule:function(){var t=this;if(0==this.multipleSelection.length)return this.$message({message:"Selecione ao menos 1 registro",type:"warning"}),!1;this.$http.post("/module/deals/bulk",this.multipleSelection).then((function(e){t.loadData(),t.$notify.success({title:"Sucesso"})})).catch((function(e){t.$notify.error({title:"Houve um erro ao deletar"})}))}},mounted:function(){this.loadData()}},o=i,s=(a("9fe7"),a("2877")),r=Object(s["a"])(o,l,n,!1,null,null,null);e["default"]=r.exports},"9fe7":function(t,e,a){"use strict";var l=a("bd41"),n=a.n(l);n.a},bd41:function(t,e,a){}}]);
//# sourceMappingURL=chunk-20962548.a4257d78.js.map